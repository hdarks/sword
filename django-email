# emails folder
# settings.py
STATIC_URL = "static/"
DEFAULT_AUTO_FIELD = "django.db.models.BigAutoField"
EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'
EMAIL_HOST = 'smtp.gmail.com'
EMAIL_USE_TLS = True
EMAIL_PORT = 587
EMAIL_HOST_USER = 'hit@gmail.com'
EMAIL_HOST_PASSWORD = 'h1tman'

# urls.py
from django.contrib import admin
from django.urls import path, include
urlpatterns = [
    path("admin/", admin.site.urls),
    path("",include("emailapp.urls")),
]

# emailapp
# urls.py
from django.urls import path
from .views import myfun
urlpatterns = [
    path("", myfun, name="home"),
]

# views.py
from django.conf import settings
from django.core.mail import send_mail
from django.http import HttpResponse
def myfun(request):
    if request.method=="POST":
        username=request.POST.get("username")
        subject = "welcome to GFG world"
        message = f'Hi,{username}, Congratulations you have been shrtlisted for GFG \n Please visit "https://www..geeksforgeeks.org/node-jsnpm-node-package-manager/?ref=lbp"'
        email_from = settings.EMAIL_HOST_USER
        recipient_list = ['tejaskadbe23@gmail.com',]
        send_mail( subject, message, email_from, recipient_list )
    return HttpResponse("<h1>!!! Email Sent !!!</h1>")

